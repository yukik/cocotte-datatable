!function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),u=1;n>u;u++)o[u-1]=arguments[u];r.apply(this,o)}else if(s(r)){for(n=arguments.length,o=new Array(n-1),u=1;n>u;u++)o[u-1]=arguments[u];for(c=r.slice(),n=c.length,u=0;n>u;u++)c[u].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=o;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],3:[function(e,t,r){function n(){l=!1,a.length?c=a.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(n);l=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var a,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],4:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],5:[function(e,t,r){(function(t,n){function i(e,t){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,e,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function u(e,t,n){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return w(i)||(i=u(e,i,n)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),y=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),D(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(j(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(D(t))return l(t)}var m="",g=!1,b=["{","}"];if(d(t)&&(g=!0,b=["[","]"]),j(t)){var _=t.name?": "+t.name:"";m=" [Function"+_+"]"}if(x(t)&&(m=" "+RegExp.prototype.toString.call(t)),O(t)&&(m=" "+Date.prototype.toUTCString.call(t)),D(t)&&(m=" "+l(t)),0===s.length&&(!g||0==t.length))return b[0]+m+b[1];if(0>n)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=g?f(e,t,n,y,s):s.map(function(r){return p(e,t,n,y,r,g)}),e.seen.pop(),h(E,m,b)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i){for(var o=[],s=0,a=t.length;a>s;++s)S(t,String(s))?o.push(p(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,r,n,i,!0))}),o}function p(e,t,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),S(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?u(e,c.value,null):u(e,c.value,r-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function g(e){return"number"==typeof e}function w(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===A(e)}function D(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function j(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return 10>e?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;r.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),a=n[r];o>r;a=n[++r])s+=v(a)||!E(a)?" "+a:" "+i(a);return s},r.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(_(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var C,q={};r.debuglog=function(e){if(_(C)&&(C=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!q[e])if(new RegExp("\\b"+e+"\\b","i").test(C)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=y,r.isNull=v,r.isNullOrUndefined=m,r.isNumber=g,r.isString=w,r.isSymbol=b,r.isUndefined=_,r.isRegExp=x,r.isObject=E,r.isDate=O,r.isError=D,r.isFunction=j,r.isPrimitive=T,r.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",L(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:3,inherits:2}],6:[function(e,t,r){function n(e,t,r){var n={level:r||0,eq:i,cacheValue:[],cacheCompareTo:[]};return n.eq(e,t,0)}function i(e,t,r){var n=this;if(n.level&&n.level===r)return e===t;var i=n.cacheValue.indexOf(e),o=n.cacheCompareTo.indexOf(t);if(-1!==i||-1!==o)return i===o;if(e===t)return!0;if(null===e||null===t||void 0===typeof e||void 0===typeof t||"string"==typeof e||"string"==typeof t||"boolean"==typeof e||"boolean"==typeof t)return!1;if("number"==typeof e||"number"==typeof t)return Number.isNaN(e)&&Number.isNaN(t);if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e instanceof Error)return e.message===t.message;if(n.cacheValue.push(e),n.cacheCompareTo.push(t),Array.isArray(e))return e.length===t.length&&e.every(function(e,i){return n.eq(e,t[i],r+1)});if(Object.isExtensible(e)!==Object.isExtensible(t))return!1;if(e.valueOf()!==e||t.valueOf()!==t)return n.eq(e.valueOf(),t.valueOf(),r);var s=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);return s.length!==a.length?!1:s.every(function(i){if(!~a.indexOf(i))return!1;var o=Object.getOwnPropertyDescriptor(e,i),s=Object.getOwnPropertyDescriptor(t,i);if(o.enumerable!==s.enumerable)return!1;if(o.configurable!==s.configurable)return!1;if("writable"in o){if(o.writable!==s.writable)return!1;var u=n.cacheValue.indexOf(o.value),c=n.cacheCompareTo.indexOf(s.value);if(-1!==u||-1!==c)return u===c;if(!n.eq(o.value,s.value,r+1))return!1}else{if(o.get!==s.get)return!1;if(o.set!==s.set)return!1}return!0})}/*
 * @license
 * cocotte-compare v0.5.1
 * Copyright(c) 2014 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.compare=n)},{}],7:[function(e,t,r){function n(e){var t=this;t.setMaxListeners(0);var r=c.copy(e,t);t.Row=l.type(t.fields,i(t),o(t)),t.rows=s(t,r.rows)}function i(e){return function(t){var r=this;e.emit("updated",r,t),e.emit("all","updated",r,t)}}function o(e){return function(t){var r=this;e.emit("threw",r,t),e.emit("all","threw",r,t)}}function s(e,t){var r=e.Row;return t.map(function(e){var t={id:e.id,state:e.state||p.EXISTS,data:e};return new r(t)})}/*
 * @license
 * cocotte-datasource v0.5.1
 * Copyright(c) 2014 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.Datasource=n);var a=e("cocotte-sequantial"),u=e("events"),c=e("cocotte-helper"),l=e("cocotte-row"),f=e("cocotte-field"),p=l.STATES;n.properties={fields:{keyType:f,required:!0,description:["フィールド"]},rows:{arrayType:Object,copy:!1,description:["行データ","変更後の値を設定する場合は、配列で[変更前, 変更後]をフィールドに指定します"]}},c.inherits(n,u.EventEmitter),Object.defineProperty(n.prototype,"length",{enumerable:!0,get:function(){return this.rows.length}}),n.prototype.data=function(e){var t=this.rows[e];return t?l.data(t):null},n.prototype.add=function(e){e=e||{};var t=this.Row,r={id:e.id,state:e.state||p.ADDED,data:e},n=new t(r);return this.rows.push(n),this.emit("added",n),this.emit("all","added",n),n},n.prototype.save=function(){var e=this;e.forEach(function(t){switch(t.state){case p.ADDED:l.save(t),t.state=p.EXISTS;break;case p.EXISTS:l.save(t);break;case p.DELETED:e.state=p.DETACHED,e.remove(t);break;case p.DETACHED:e.remove(t)}})},n.prototype.remove=function(e){var t=this.rows,r=t.indexOf(e);return-1===r?!1:(t.splice(r,1),this.emit("removed",e),this.emit("all","removed",e),!0)},n.prototype.removeAll=function(){var e=this,t=[].slice.call(e.rows);return e.rows.length=0,t.forEach(function(t){e.emit("removed",t),e.emit("all","removed",t)}),t.length},n.prototype.exists=function(e){return-1!==this.rows.indexOf(e)},n.prototype.find=function(e){function t(t){return s.every(function(r){var o=t[r],s=e[r],a="id"===r||"state"===r?f.prototype:i[r];return a?"function"==typeof s?s(o,t,n):Array.isArray(s)?a.between(o,s[0],s[1]):a.equal(o,s):!0})}"string"==typeof e&&(e={id:e});for(var r,n=this,i=n.fields,o=n.rows,s=Object.keys(e),a=0;r=o[a++];)if(t(r))return r;return null},a(n.prototype,"rows")},{"cocotte-field":12,"cocotte-helper":18,"cocotte-row":31,"cocotte-sequantial":35,events:1}],8:[function(e,t,r){function n(e){if(!(e instanceof o)){var t="引数がデータソースではありません";throw new Error(t)}this.ds=e,this.rows=[],Object.defineProperties(this,{_liveList:{value:!1,writable:!0,enumerable:!1,configurable:!1},_condition:{value:{},writable:!0,enumerable:!1,configurable:!1},_order:{value:[],writable:!0,enumerable:!1,configurable:!1},_from:{value:0,writable:!0,enumerable:!1,configurable:!1},_to:{value:null,writable:!0,enumerable:!1,configurable:!1},_currentRow:{value:null,writable:!0,enumerable:!1,configurable:!1},_dsListener:{value:i(this),writable:!1,enumerable:!1,configurable:!1}})}function i(e){function t(t,r,n){switch(t){case"added":e.liveList&&e.test(r)&&e.list();break;case"updated":var i=e.exists(r);if(e.liveList&&e.test(r)!==i)e.list();else if(i){e.emit("updated",r,n),e.emit("all","updated",r,n);var o=function(){return e.liveList?e._condition[n]?!0:e._order.some(function(e){return e[0]===n}):!1}();o&&e.list()}break;case"threw":e.exists(r)&&(e.emit("threw",r,n),e.emit("all","threw",r,n));break;case"removed":e.liveList&&e.exists(r)&&e.list();break;default:throw new Error(t+"捕捉漏れ")}}return e.ds.on("all",t),t}/*
 * @license
 * cocotte-datatable v0.2.1
 * Copyright(c) 2015 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.Datatable=n);var o=e("cocotte-datasource"),s=e("cocotte-row"),a=e("cocotte-sequantial"),u=e("cocotte-compare"),c=e("util"),l=e("events");c.inherits(n,l.EventEmitter),n.prototype.destroy=function(){this.ds.removeListener("all",this._dsListener),this.ds=null,this.rows=null,this._liveList=null,this._condition=null,this._order=null,this._from=null,this._to=null,this._currentRow=null,this._dsListener=null},Object.defineProperties(n.prototype,{fields:{get:function(){return this.ds.fields},enumerable:!0,configurable:!1},Row:{get:function(){return this.ds.Row},enumerable:!0,configurable:!1},length:{get:function(){return this.rows.length},enumerable:!0,configurable:!1},condition:{get:function(){var e=this._condition,t=this.fields;return Object.keys(e).reduce(function(r,n){return r[n]=t[n].copy(e[n]),r},{})},set:function(e){this.setCondition(e)},enumerable:!0,configurable:!1},order:{get:function(){return this._order.map(function(e){return[e[1],e[2]]})},set:function(e){this.setOrder(e)},enumerable:!0,configurable:!1},range:{get:function(){return[this._from,this._to]},set:function(e){this.setRange(e[0],e[1])},enumerable:!0,configurable:!1},liveList:{get:function(){return this._liveList},set:function(e){e=!!e,e!==this._liveList&&(this._liveList=e,this.emit("set liveList",e),this.emit("all","set liveList",e),e&&this.list())},enumerable:!0,configurable:!1},currentRow:{get:function(){return this._currentRow},set:function(e){if(null===e||this.exists(e)){var t=this._currentRow;t!==e&&(this._currentRow=e,this.emit("moved",t,e),this.emit("all","moved",t,e))}},enumerable:!0,configurable:!1},currentIndex:{get:function(){return this.rows.indexOf(this.currentRow)},set:function(e){this.currentRow=this.rows[e]||null},enumerable:!0,configurable:!1}}),n.prototype.add=function(e){e=e||{};var t=this._condition;Object.keys(t).forEach(function(r){var n=t[r];"function"==typeof n||Array.isArray(n)||(e[r]=n)});var r=this.ds.add(e);return r&&!this.liveList&&(this.rows.push(r),this.emit("added",r),this.emit("all","added",r)),r},n.prototype.remove=function(e){var t=this.rows.indexOf(e);if(-1===t)return!1;var r=this.ds.remove(e);return r&&this.liveList||(this.rows.splice(t,1),this.emit("removed",e),this.emit("all","removed",e)),!0},n.prototype.removeAll=function(){var e=[].slice.call(this.rows);if(!e.length)return 0;var t=this._liveList;this._liveList=!1;var r=this.ds;return e.forEach(function(e){r.remove(e)}),this.rows=[],this._liveList=t,this.emit("listed"),this.emit("all","listed"),e.length},n.prototype.exists=o.prototype.exists,n.prototype.find=o.prototype.find,n.prototype.list=function(){var e=this,t=e.ds.filter(function(t){return e.test(t)}),r=e._order;r.length&&t.sort(function(e,t){for(var n,i=0;n=r[i];){var o=n[0].compare(e[n[1]],t[n[1]]);if(o)return n[2]?o:-1*o;i++}return 0});var n=e._from,i=e._to;if(null!==i?t=t.slice(n,i+1):n&&(t=t.slice(n)),!u(e.rows,t,1)){e.rows=t,e.emit("listed"),e.emit("all","listed");var o=e.currentRow;o&&!e.exists(o)&&(e.currentRow=null)}},n.prototype.setRows=function(e,t){Array.isArray(e)||(e=[e]);var r=this,n=r.ds;if(e=e.filter(function(e){return n.exists(e)&&!(t&&r.exists(e))}),t&&(e=[].slice.call(r.rows).concat(e)),!u(r.rows,e,1)){r.rows=e,r.emit("listed"),r.emit("all","listed");var i=r.currentRow;i&&!r.exists(i)&&(r.currentRow=null)}},n.prototype.test=function(e){var t=this._condition;if(!t)return!0;var r=this,n=r.ds.fields;return Object.keys(t).every(function(i){var o=e[i],s=t[i],a=n[i];return"function"==typeof s?s(o,e,r):Array.isArray(s)?a.between(o,s[0],s[1]):a.equal(o,s)})},n.prototype.setCondition=function(e){e=e||{};var t=this.fields;e=Object.keys(e).reduce(function(r,n){return("id"===n||"state"===n||t[n])&&(r[n]=e[n]),r},{}),u(e,this._condition)||(this._condition=e,this.emit("set condition",e),this.emit("all","set condition",e),this.liveList&&this.list())},n.prototype.setOrder=function(e){"string"==typeof e?e=e.split(",").map(function(e){return e=e.trim(),"-"===e[0]?[e.slice(1),!1]:[e,!0]}):Array.isArray(e)||(e=[]);var t=this.ds.fields;e=e.reduce(function(e,r){var n=r[0],i=t[n];return i&&e.push([i,n,r[1]]),e},[]),u(e,this._order)||(this._order=e,this.emit("set order",e),this.emit("all","set order",e),this.liveList&&this.list())},n.prototype.setRange=function(e,t){if(e=parseInt(e,10)||0,!(0>e)){if(t=parseInt(t,10),Number.isNaN(t))t=null;else if(e>t)return;(this._from!==e||this._to!==t)&&(this._from=e,this._to=t,this.emit("set range",e,t),this.emit("all","set range",e,t),this.liveList&&this.list())}},n.prototype.getState=function(e,t){var r=this.rows,n=r.indexOf(r);if(-1===n)return null;var i=r.length-1;switch(t){case"index":return n;case"first":return 0===n;case"last":return n===i;case"middel":return!(0===n||n===i);case"odd":return n%2===0;case"even":return n%2===1;default:return null}},n.prototype.first=function(){var e=this.currentIndex,t=this.length,r=!(0===t||0===e);return r&&(this.currentIndex=0),r},n.prototype.last=function(){var e=this.currentIndex,t=this.length,r=!(0===t||e===t-1);return r&&(this.currentIndex=t-1),r},n.prototype.next=function(){var e=this.currentIndex,t=this.length,r=!(0===t||e===t-1);return r&&(this.currentIndex=-1===e?0:e+1),r},n.prototype.back=function(){var e=this.currentIndex,t=this.length,r=!(0===t||0===e);return r&&(this.currentIndex=-1===e?t-1:e-1),r},n.prototype.move=function(e){var t=this.currentRow;return e instanceof s?this.currentRow=e:this.currentIndex=e,t!==this.currentRow},a(n.prototype,"rows")},{"cocotte-compare":6,"cocotte-datasource":7,"cocotte-row":31,"cocotte-sequantial":35,events:1,util:5}],9:[function(e,t,r){function n(e){o.copy(e,this)}var i=e("./field"),o=e("cocotte-helper");t.exports=n,n.properties={},o.inherits(n,i),n.prototype.toValue=function(e){switch(e){case"true":case"t":case"1":case 1:return!0;case"false":case"f":case"0":case"":case 0:return!1;default:return e}},n.prototype.typeValid=function(e){if("boolean"!=typeof e){var t="真偽値ではありません";throw new Error(t)}}},{"./field":11,"cocotte-helper":18}],10:[function(e,t,r){function n(e){o.copy(e,this)}var i=e("./field"),o=e("cocotte-helper");t.exports=n,n.properties={max:{type:Date,description:["最大値"]},min:{type:Date,description:["最小値"],test:function(e,t){if("max"in t&&t.max.getTime()<=e.getTime())throw new Error("maxの値以下に指定してください")}}},o.inherits(n,i),n.prototype.toValue=function(e){if("string"==typeof e){var t=new Date(e);return Number.isNaN(t.getTime())?e:t}return e},n.prototype.equal=function(e,t){return e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!1},n.prototype.copy=function(e){return e instanceof Date?new Date(e):e},n.prototype.typeValid=function(e){var t;if(!(e instanceof Date))throw t="日時ではありません",new Error(t);if(this.min&&e.getTime()<this.min.getTime())throw t=this.min+"以上にしてください",new Error(t);if(this.max&&this.max.getTime()<e.getTime())throw t=this.max+"以下にしてください",new Error(t)}},{"./field":11,"cocotte-helper":18}],11:[function(e,t,r){function n(){throw new Error("継承クラスから初期化してください")}/*
 * @license
 * cocotte-field v0.5.0
 * Copyright(c) 2015 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,n.properties={required:{type:Boolean,description:["必須","既定値はfalseです"]},readonly:{type:Boolean,description:["読取専用","既定値はfalseです"]},validation:{type:Function,description:["カスタム検証","入力値のより細かな検証をします","戻り値はなく、違反した場合は例外を投げるように設定します"]}},n.prototype.toValue=function(e){return e},n.prototype.equal=function(e,t){return e===t},n.prototype.compare=function(e,t){return e===t?0:t>e||null===e?-1:1},n.prototype.between=function(e,t,r){return(null===t||e>=t)&&(null===r||r>=e)},n.prototype.copy=function(e){return e},n.prototype.valid=function(e,t){t=t||{};var r;if(!t.readonly&&this.readonly)throw r="読取専用です",new Error(r);if(null!==e&&void 0!==e&&""!==e)!t.type&&this.typeValid&&this.typeValid(e),!t.validation&&this.validation&&this.validation(e);else if(!t.required&&this.required)throw r="必須です",new Error(r)}},{}],12:[function(e,t,r){var n=e("./field");n.Boolean=e("./boolean"),n.Number=e("./number"),n.Text=e("./text"),n.Date=e("./date"),t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.Field=n)},{"./boolean":9,"./date":10,"./field":11,"./number":13,"./text":14}],13:[function(e,t,r){function n(e){o.copy(e,this)}var i=e("./field"),o=e("cocotte-helper");t.exports=n,n.properties={max:{type:Number,description:["最大値"]},min:{type:Number,description:["最小値"],test:function(e,t){if("max"in t&&t.max<=e)throw new Error("maxの値以下に指定してください")}},decimal:{type:Number,min:1,max:10,description:["小数点桁数"]}},o.inherits(n,i),n.prototype.toValue=function(e){if("string"==typeof e){var t=+e;return Number.isNaN(t)?e:t}return e},n.prototype.typeValid=function(e){var t;if("number"!=typeof e)throw t="数値ではありません",new Error(t);if(null!==this.min&&e<this.min)throw t=this.min+"以上にしてください",new Error(t);if(null!==this.max&&this.max<e)throw t=this.max+"以下にしてください",new Error(t);if(null!==this.decimal){var r=(e.toString().split(".")[1]||"").length;if(this.decimal<r)throw t="小数点以下は"+this.decimal+"桁までです",new Error(t)}}},{"./field":11,"cocotte-helper":18}],14:[function(e,t,r){function n(e){o.copy(e,this)}var i=e("./field"),o=e("cocotte-helper");t.exports=n,n.properties={max:{type:Number,min:1,max:65535,description:["最大文字長"]},min:{type:Number,min:0,max:65535,description:["最小文字長"],test:function(e,t){if(t.max&&t.max<=e)throw new Error("maxの値以下に指定してください")}},regexp:{type:RegExp,description:["正規表現"]}},o.inherits(n,i),n.prototype.typeValid=function(e){var t;if("string"!=typeof e)throw t="文字列ではありません",new Error(t);var r=e.length;if(this.max&&this.max<r)throw t=this.max+"文字以下にしてください",new Error(t);if(this.min&&r<this.min)throw t=this.min+"文字以上にしてください",new Error(t);if(this.regexp&&!this.regexp.test(e))throw t="フォーマットに違反しています",new Error(t)}},{"./field":11,"cocotte-helper":18}],15:[function(e,t,r){function n(e,t,r){if(!t)throw new Error("ヘルパーを作成できません。プロパティの設定が存在しません");this.name=e||"",this.props=t,this.tpl=null,"string"==typeof r?this.tpl=r.split(i):Array.isArray(r)&&(this.tpl=r)}var i="\n",o=e("./showProperty"),s=e("./showProperties"),a=e("./testConfig"),u=e("./error");t.exports=n,n.prototype.template=function(){var e=this.tpl;console.log("■テンプレート"),console.log(""),e?console.log(e.join(i)):console.log("(エラー)テンプレートは設定されていません"),console.log()},n.prototype.property=function(e){e?o(this.name,e,this.props):s(this.name,this.props)},n.prototype.properties=n.prototype.property,n.prototype.of=function(e){var t=this.props[e],r=t?t.type||t.arrayType||t.keyType:null;if(r)return new n(r.name,r.properties,r.template);throw new Error("クラスが取得できません")},n.prototype.test=function(e,t){e=e||{};var r=u(t||"show");return r.start(),a(null,this.props,e,r.callback),r.end()}},{"./error":16,"./showProperties":19,"./showProperty":20,"./testConfig":21}],16:[function(e,t,r){function n(e,t,r){return Array.isArray(t)&&(t=t.reduce(function(e,t){switch(typeof t){case"number":e=e+"["+t+"]";break;case"string":e=e?e+"."+t:t}return e},"")),(e?e+".":"")+t+" : "+r}t.exports=function(e){var t=0;return{start:function(){t=0,"show"===e&&console.log("■テスト")},callback:function(r,i,o){if(!o)return!1;t++;var s=n(r,i,o);switch(e){case"show":console.log(s);break;case"hide":break;case"throw":case"copy":throw new Error(s)}return!0},end:function(){var r=0===t;return"show"===e&&(console.log(r?"テストは成功しました":"テストは失敗しました"),console.log()),r}}}},{}],17:[function(e,t,r){function n(e,t){if(!t)return null;var r="properties"in t,n="type"in t?"type":"arrayType"in t?"arrayType":"keyType"in t?"keyType":r?"type":null,a=r?Object:t[n];if(!a)return null;var u=t.description;"string"==typeof u&&(u=u.split(i));var c={name:e,type:a,hasProps:r,valueType:n,valueTypeText:s[n],description:u||[]};return Object.keys(t).reduce(function(e,r){return~o.indexOf(r)||(e[r]=t[r]),e},c),c}var i="\n",o=["name","type","arrayType","description","array"],s={type:"単値",arrayType:"配列",keyType:"キーバリュー"};t.exports=n},{}],18:[function(e,t,r){function n(e,t,r){return new i(e,t,r)}/* 
 * @license
 * cocotte-helper v0.4.0
 * Copyright(c) 2013 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.helper=n);var i=e("./classHelper"),o=e("./testConfig"),s=e("./error");n.of=function(e){return new i(e.name,e.properties,e.template)},n.copy=function(e,t,r){if(e=e||{},"object"!=typeof t)throw new Error("コピー先が存在しません");var n=t.copied_;if(n)return r||delete t.copied_,n;var i=t.constructor.properties;if(!i)throw new Error("クラスにプロパティ情報が存在しません");var a=s("copy");a.start(),n=o(null,i,e,a.callback),a.end();for(var u in i)i[u].copy!==!1&&(t[u]=n[u]);if(r){var c=t.constructor.super_;c&&c.properties&&Object.defineProperty(t,"copied_",{value:n,enumerable:!1,writable:!0,configurable:!0}),c.call(t,e)}return n},n.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});var r=e.properties;if(!r)throw new Error("プロパティ情報が設定されていません");if(t.properties){var n=Object.create(t.properties);Object.keys(r).forEach(function(e){n[e]=r[e]}),e.properties=n}}},{"./classHelper":15,"./error":16,"./testConfig":21}],19:[function(e,t,r){function n(e,t){if(console.log("■"+e+"プロパティ一覧"),t){var r=[c,"-"];i(r,0,t),a(r)}else console.log("（エラー）プロパティのヘルプ情報が存在しません");console.log()}function i(e,t,r){for(var n in r){var a=r[n],c=o(t,u(n,a));if(c?e.push(c):e.push([s(t,"(プロパティ設定エラー)"+n)]),a.properties){var l=a.properties;i(e,t+1,l)}}}function o(e,t){return t?[s(e,t.name),t.hasProps?"Sub-Object":t.type.name,t.valueTypeText,t.required?"必須":"",t.description[0]||""]:null}function s(e,t){return e?new Array(e+1).join("  ")+t:t}var a=e("cocotte-matrix"),u=e("./getPropInfo");t.exports=n;var c=["プロパティ名","タイプ","値","必須","説明"]},{"./getPropInfo":17,"cocotte-matrix":28}],20:[function(e,t,r){function n(e,t,r){e?console.log("■"+e+"."+t+"プロパティ"):console.log("■"+t+"プロパティ");var n=i(t,r);if(!n)return console.log("(エラー) プロパティが存在しません"),void console.log();var l=p(t,n);switch(o(l),l.type){case String:s(l);break;case Number:a(l);break;case Date:u(l);break;case Object:c(l)}l.description.length&&console.log("          説明 : "+l.description.join(f+"                 ")),console.log()}function i(e,t){var r=e.split(".").reduce(function(e,t){return e&&e.properties?e.properties[t]:null},{properties:t});return r?r:void console.log("（エラー）プロパティ"+e+"のヘルプ情報が存在しません")}function o(e){e.hasProps?console.log("        タイプ : Sub-Object"):console.log("        タイプ : "+e.type.name),console.log("            値 : "+e.valueTypeText),console.log("          必須 : "+(e.required?"◯":"×"))}function s(e){l("        文字長",e),e.regex&&console.log("      正規表現 : "+e.regex.toString())}function a(e){l("          範囲",e),e.decimal?(console.log("    数値タイプ : 小数点以下あり"),console.log("  少数点以下桁 : "+e.decimal+"桁")):console.log("    数値タイプ : 整数")}function u(e){l("          範囲",e)}function c(e){var t=e.properties;if(t){var r=[];for(var n in t)r.push(n);var i=r.join(",");console.log("サブプロパティ : "+i)}}function l(e,t){var r=("min"in t?t.min:"")+"〜"+("max"in t?t.max:"");1<r.length&&console.log(e+" : "+r)}var f="\n",p=e("./getPropInfo");t.exports=n},{"./getPropInfo":17}],21:[function(e,t,r){function n(e,t,r,n){var o={};for(var s in t)o[s]=i(e,s,t,r,n);return o}function i(e,t,r,i,c){var l=r[t],f="type"in l?"type":"arrayType"in l?"arrayType":"keyType"in l?"keyType":"properties"in l?"type":null;if(!f)return c(e,t,"type・arrayType・keyType・propertiesのいずれかが設定されていません"),null;var p=i[t];if(void 0===p||null===p)return l.required&&c(e,t,"必須項目です"),"type"===f?null:"arrayType"===f?[]:"keyType"===f?{}:null;switch(f){case"type":break;case"arrayType":if(!Array.isArray(p))return c(e,t,"配列ではありません"),null;break;case"keyType":if(!p||"object"!=typeof p)return c(e,t,"オブジェクトではありません"),null}var h;if(l.properties){switch(e=e?e+"."+t:t,r=l.properties,f){case"type":h=n(e,r,p,c);break;case"arrayType":h=[],p.forEach(function(t){h.push(n(e,r,t,c))});break;case"keyType":h={},Object.keys(p).forEach(function(t){h[t]=n(e,r,p[t],c)})}return h}var d=l[f];switch(f){case"type":h=o(e,t,null,d,p,c);break;case"arrayType":h=[],p.forEach(function(r,n){h.push(o(e,t,n,d,r,c))});break;case"keyType":h={},Object.keys(p).forEach(function(r){h[r]=o(e,t,r,d,p[r],c)})}var y=d===String?s:d===Number?a:d===Date?u:null;if(y)switch(f){case"type":var v=y(l,p);v&&c(e,t,v);break;case"arrayType":p.forEach(function(r,n){var i=y(l,r);i&&c(e,t,i,n)});break;case"keyType":Object.keys(p).forEach(function(r){var n=y(l,p[r]);n&&c(e,t,n,r)})}if(l.test)try{l.test(p,i)}catch(m){c(e,t,m.message)}return h}function o(e,t,r,i,o,s){var a=i.name+"型ではありません";if(null===o||void 0===o||Number.isNaN(o))return s(e,[t,r],a),null;switch(i){case String:case Number:case Boolean:case Function:return typeof o!==i.name.toLowerCase()?(s(e,[t,r],a),null):o;case Date:if("string"==typeof o){if(o=new Date(o),Number.isNaN(o.getTime()))return s(e,[t,r],a),null}else if(!(o instanceof Date))return s(e,[t,r],a),null;return o}if(o instanceof i)return o;var u;if("type"in o){if(u=o.type,"function"!=typeof o.type)return a="クラスを指定してください",s(e,[t,r,"type"],a),null;if(!(u.prototype instanceof i))return a=u.name+"は、"+i.name+"を継承していません",s(e,[t,r,"type"],a),null}else u=i;var c=u.properties;return c?(e=e?e+"."+t:t,new u(n(e,c,o,s))):(a=u.name+"クラスはヘルパーをサポートしていません",s(e,[t,r,"type"],a),null)}var s=e("./testString"),a=e("./testNumber"),u=e("./testDate");t.exports=n},{"./testDate":22,"./testNumber":23,"./testString":24}],22:[function(e,t,r){t.exports=function(e,t){var r=t.getTime();if(Number.isNaN(r))return"不正な日時です";if("min"in e){var n="string"==typeof e.min?new Date(e.min):e.min;if(r<n.getTime())return n.toString()+"以上を指定してください"}if("max"in e){var i="string"==typeof e.max?new Date(e.max):e.max;if(i.getTime()<r)return i.toString()+"以下を指定してください"}}},{}],23:[function(e,t,r){t.exports=function(e,t){if(Number.isNaN(t))return"数値ではありません";if("min"in e&&t<e.min)return e.min+"以上ではありません";if("min"in e&&e.max<t)return e.max+"以下ではありません";if("decimal"in e){var r=(t.toString().split(".")[1]||"").length;if(e.decimal<r)return"小数点以下は"+e.decimal+"桁までです"}}},{}],24:[function(e,t,r){t.exports=function(e,t){return e.min&&t.length<e.min?" : 最小文字長("+e.min+"〜)に違反しています":e.max&&e.max<t.length?"最大文字長(〜"+e.min+")に違反しています":e.regex&&!e.regex.test(t)?"正規表現に違反しています":void 0}},{}],25:[function(e,t,r){var n="\n";t.exports=function(e){var t,r,o=[],s=0;e.forEach(function(e){Array.isArray(e)&&e.forEach(function(e,t){var r=i(e);o[t]=(o[t]||0)<r?r:o[t],s<o[t]&&(s=o[t])})}),t=new Array(s+1).join(" "),r=new Array(s+1).join("-");var a="";return o.forEach(function(e){a+="+ "+r.substr(0,e)+" "}),a+="+",console.log(a),e.forEach(function(e){if(Array.isArray(e)){var r="";e.forEach(function(e,s){var a=e.indexOf(n);-1!==a&&(e=e.substring(0,a)),r+="| "+e+t.substr(0,o[s]-i(e))+" "});for(var s=e.length,u=o.length;u>s;s++)r+="| "+t.substr(0,o[s])+" ";console.log(r+"|")}else console.log(a)}),console.log(a),null};var i=function(e){var t=e.indexOf(n);-1!==t&&(e=e.substring(0,t)),"string"!=typeof e&&(e+="");var r=e.match(/[ -~]/g);return 2*e.length-(r?r.length:0)}},{}],26:[function(e,t,r){var n="\n";t.exports=function(e){var t="",r=e.reduce(function(e,t){return Array.isArray(t)&&e<t.length?t.length:e},0);return e.forEach(function(e){if(Array.isArray(e)){for(var o=0;r-1>o;o++)t+='"'+i(e[o])+'",';r>0&&(t+='"'+i(e[o])+'"'),t+=n}}),t};var i=function(e){return"string"!=typeof e?"":(e=e.replace(/\n/g,"\n"),e=e.replace(/"/g,'""'))}},{}],27:[function(e,t,r){t.exports=function(e){var t='<table class="cocotteMatrix">\n',r=e.reduce(function(e,t){return Array.isArray(t)&&e<t.length?t.length:e},0);return e.forEach(function(e,i){if(Array.isArray(e)){t+="	<tr>\n";for(var o=0===i?"th":"td",s=0;r>s;s++)t+="		<"+o+">"+n(e[s])+"</"+o+">\n";t+="	</tr>\n"}}),t+="</table>"};var n=function(e){return"string"!=typeof e?"":(e=e.replace(/&/g,"&amp;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#039;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/\n/g,"<br />"))}},{}],28:[function(e,t,r){function n(e){return i(e)}/*
 * @license
 * cocotte-matrix v0.2.0
 * Copyright(c) 2013 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
var i=e("./console");t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.matrix=n),n.console=i,n.toHtml=e("./html"),n.toCsv=e("./csv")},{"./console":25,"./csv":26,"./html":27}],29:[function(e,t,r){function n(e,t){var r=e.constructor,n=e._fields,i=Object.keys(n).reduce(function(t,r){var i=n[r];return t[r]=i.copy(e[r]),t},{});return new r({id:t||null,state:m.ADDED,data:i})}function i(e,t){var r=e._fields,n=e._data.after,i=e._updated?e._updated.bind(e):null;if(t)return r[t]&&t in n?(delete n[t],i&&i(t),!0):!1;var o=Object.keys(n);return o.forEach(function(e){delete n[e]}),i&&o.forEach(function(e){i(e)}),0<o.length}function o(e){var t=e._data.store,r=e._data.after,n=Object.keys(r);n.forEach(function(e){t[e]=r[e],delete r[e]});var i=e._updated?e._updated.bind(e):null;return i&&n.forEach(function(e){i(e)}),0<n.length}function s(e,t){return e._data.store[t]}function a(e,t){return e._data.after[t]}function u(e,t){var r=e._data.errors;return t in r?r[t].input:e[t]}function c(e,t){var r=e._data.errors;return t in r?r[t].message:null}function l(e,t,r){var n=e._data,i=n.after,o=n.store,s=e._fields[t];if(!s){var a="不明なフィールドです";throw new Error(a)}s.valid(r,{readonly:!0,require:!0}),s.equal(o[t],r)||(s.equal(i[t],r)?(o[t]=r,delete i[t]):o[t]=r,e._updated&&e._updated(t))}function f(e,t,r){var n=e._data,i=n.after,o=n.store,s=e._fields[t];if(!s){var a="不明なフィールドです";throw new Error(a)}s.valid(r,{readonly:!0}),s.equal(i[t],r)||(s.equal(o[t],r)?delete i[t]:i[t]=r,e._updated&&e._updated(t))}function p(e,t,r,n){var i=e._data,o=i.errors,s=e._fields[t];if(!s){var a="不明なフィールドです";throw new Error(a)}o[t]={input:r,message:n},e._updated&&e._updated(t)}function h(e,t){return t?null!==e._data.store[t]:Object.keys(e._data.store).some(function(t){return null!==e._data.store[t]})}function d(e,t){return t?t in e._data.after:0<Object.keys(e._data.after).length}function y(e,t){return t?t in e._data.errors:0<Object.keys(e._data.errors).length}function v(e,t){var r=this;return e instanceof r?t?Object.keys(e._data.after).reduce(function(t,r){return t[r]=e[r],t},{}):Object.keys(e._fields).reduce(function(t,r){return t[r]=e[r],t},{id:e.id,state:e.state}):null}var m=e("./states");t.exports=function(e){e.copy=n,e.reset=i,e.save=o,e.getStore=s,e.getAfter=a,e.getInput=u,e.getError=c,e.setStore=l,e.setAfter=f,e.setError=p,e.hasStore=h,e.hasAfter=d,e.hasError=y,e.data=v}},{"./states":33}],30:[function(e,t,r){var n=e("cocotte-field"),i=e("./states"),o={fields:{keyType:n,copy:!1,required:!0,description:"フィールド"},id:{type:String,copy:!1,description:["行番号","元のコレクション内の行と紐付けするためのIDを設定します"]},state:{type:Number,copy:!1,description:["行状態","元のコレクションでどのような存在かを示します","1: 追加予定 (既定値)","2: 既存","3: 削除予定","4: 削除済"],test:function(e){if(e!==i.ADDED&&e!==i.EXISTS&&e!==i.DELETED&&e!==i.DETACHED)throw new Error("不正な値です")}},data:{type:Object,copy:!1,description:["初期データ","{フィールド1:値1, フィールド2:値2,}を配列で設定します","新規行の場合は変更値に、それ以外の場合はストア値で設定されます","ストア値、変更値、エラーを指定し設定することができます","その場合は,値を[ストア値, 変更値, エラー]とします"]},updated:{type:Function,copy:!1,description:["行が更新された場合に実行されるコールバック関数",'thisは行、第一引数には変更があったフィールド名または"id"、"state"の文字列です']},threw:{type:Function,copy:!1,description:["値の設定に失敗した場合に実行されるコールバック関数","thisは行、第一引数には失敗したフィールド名です"]}};t.exports=o},{"./states":33,"cocotte-field":12}],31:[function(e,t,r){function n(e){var t=u.copy(e,this),r=n.type(t.fields,t.updated,t.threw);return new r(t)}function i(e,t){Object.defineProperty(e,"_data",{value:{id:null,state:null,store:{},after:{},errors:{}},enumerable:!1,configurable:!1,writable:!1});var r=u.copy(t,e);l(e,r.data,r.id,r.state),Object.preventExtensions(e)}function o(e){var t;if(!e||"object"!=typeof e)throw t="フィールド定義が不正です",new Error(t);var r=Object.keys(e);return r.every(function(t){return e[t]instanceof c})?e:r.reduce(function(r,n){var i=e[n],o=i.type;if("function"!=typeof o)throw t=n+":typeが不明です",new Error(t);var s=new o(i);if(!(s instanceof c))throw t=n+":typeがフィールドのインスタンスではありません",new Error(t);return r[n]=s,r},{})}function s(e,t){var r=e.prototype;Object.keys(t).forEach(function(e){a(r,e)})}function a(e,t){Object.defineProperty(e,t,{enumerable:!0,configurable:!1,get:function(){var e=this._data,r=e.after,n=e.store;return t in r?r[t]:n[t]},set:function(e){var r=this._data,n=r.after,i=r.errors,o=r.store,s=this._fields[t],a=!1,u=!1;try{s.valid(e),s.equal(n[t],e)||(s.equal(o[t],e)?(delete n[t],a=this._updated):(n[t]=e,a=this._updated)),i[t]&&(delete i[t],u=this._threw)}catch(c){i[t]={input:e,message:c.message},u=this._threw}a&&this._updated(t),u&&this._threw(t)}})}/*
 * @license
 * cocotte-row v0.3.0
 * Copyright(c) 2015 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
var u=e("cocotte-helper"),c=e("cocotte-field"),l=e("./set-data"),f=e("./typed-properties"),p=e("./states");t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.Row=n);var h=n.prototype;Object.defineProperty(h,"id",{get:function(){return this._data.id},set:function(e){void 0===e&&(e=null),e!==this._data.id&&(null===e||"string"==typeof e)&&(this._data.id=e,this._updated&&this._updated("id"))},enumerable:!0,configurable:!1}),Object.defineProperty(h,"state",{get:function(){return this._data.state},set:function(e){this._data.state!==e&&(e===p.ADDED||e===p.EXISTS||e===p.DELETED||e===p.DETACHED)&&(this._data.state=e,this._updated&&this._updated("state"))},enumerable:!0,configurable:!1}),n.STATES=p,n.type=function(e,t,r){function a(e){i(this,e)}return a.super_=n,a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,configurable:!0,writable:!0},_fields:{value:o(e),enumerable:!1,configurable:!1,writable:!1},_updated:{value:"function"==typeof t?t:null,enumerable:!1,configurable:!1,writable:!0},_threw:{value:"function"==typeof r?r:null,enumerable:!1,configurable:!1,writable:!0}}),a.properties=f,s(a,e),a},n.properties=e("./properties"),e("./class-method")(n)},{"./class-method":29,"./properties":30,"./set-data":32,"./states":33,"./typed-properties":34,"cocotte-field":12,"cocotte-helper":18}],32:[function(e,t,r){function n(e,t,r,n){var o=e._data;o.id=r,n===i.ADDED||n===i.EXISTS||n===i.DELETED||n===i.DETACHED?o.state=n:o.state=i.ADDED;var s=o.store,a=o.after,u=o.errors,c=e._fields,l=Object.keys(c);if(!t)return void l.forEach(function(e){s[e]=null});var f={readonly:!0,require:!0};l.forEach(function(r){if(!(r in t))return void(s[r]=null);var n=c[r],o=t[r];Array.isArray(o)?(n.valid(o[0],f),s[r]=o[0],2<=o.length&&!n.equal(o[0],o[1])&&(n.valid(o[1]),a[r]=o[1]),o[2]&&"object"==typeof o[2]&&(u[r]={input:o[2].input,message:o[2].message})):e.state===i.ADDED?(s[r]=null,null!==o&&(n.valid(o),a[r]=o)):(n.valid(o,f),s[r]=o)})}t.exports=n;var i=e("./states.js")},{"./states.js":33}],33:[function(e,t,r){var n={ADDED:1,EXISTS:2,DELETED:3,DETACHED:4};t.exports=n},{}],34:[function(e,t,r){var n=e("./states"),i={id:{type:String,copy:!1,description:["行番号","元のコレクション内の行と紐付けするためのIDを設定します"]},state:{type:Number,copy:!1,description:["行状態","元のコレクションでどのような存在かを示します","1: 追加予定 (既定値)","2: 既存","3: 削除予定","4: 削除済"],test:function(e){if(e!==n.ADDED&&e!==n.EXISTS&&e!==n.DELETED&&e!==n.DETACHED)throw new Error("不正な値です")}},data:{type:Object,copy:!1,description:["初期データ","{フィールド1:値1, フィールド2:値2,}を配列で設定します","新規行の場合は変更値に、それ以外の場合はストア値で設定されます","ストア値、変更値、エラーを指定し設定することができます","その場合は,値を[ストア値, 変更値, エラー]とします"]}};t.exports=i},{"./states":33}],35:[function(e,t,r){function n(e,t){e.forEach=function(e){for(var r=[].slice.call(this[t]),n=r.length,i=0;n>i;i++)e(r[i],i,r)},e.every=function(e){for(var r=[].slice.call(this[t]),n=r.length,i=0;n>i;i++)if(!e(r[i],i,r))return!1;return!0},e.some=function(e){for(var r=[].slice.call(this[t]),n=r.length,i=0;n>i;i++)if(e(r[i],i,r))return!0;return!1},e.filter=function(e){for(var r=[].slice.call(this[t]),n=r.length,i=[],o=0;n>o;o++)e(r[o],o,r)&&i.push(r[o]);return i},e.map=function(e){for(var r=[].slice.call(this[t]),n=r.length,i=[],o=0;n>o;o++)i.push(e(r[o],o,r));return i},e.reduce=function(e,r){for(var n=[].slice.call(this[t]),i=n.length,o=r,s=0;i>s;s++)o=e(o,n[s],s,n);return o},e.reduceRight=function(e,r){for(var n=[].slice.call(this[t]),i=n.length,o=r,s=i-1;s>-1;s--)o=e(o,n[s],s,n);return o}}/*
 * @license
 * cocotte-sequantial v0.1.0
 * Copyright(c) 2015 Yuki Kurata <yuki.kurata@gmail.com>
 * MIT Licensed
 */
t.exports=n,"object"==typeof window&&(window.Cocotte||(window.Cocotte={}),window.Cocotte.sequantial=n)},{}]},{},[8]);